node {
    
    currentBuild.result = "SUCCESS"

    try {

       stage('Checkout'){

            checkout scm
       }
       
       stage('Volumines'){
            sh 'docker volume create vol-in'
            sh 'docker volume create vol-out'
            sh 'docker volume ls'

            sh 'docker run -d --rm --name dummy -v vol-in:/vi alpine tail -f /dev/null'
            sh 'docker cp . dummy:/vi'
            sh 'docker stop dummy'
       }

    }
    catch (err) {

        currentBuild.result = "FAILURE"

            mail body: "project build error is here: ${env.BUILD_URL}" ,
            from: 'xxxx@yyyy.com',
            replyTo: 'yyyy@yyyy.com',
            subject: 'project build failed',
            to: 'zzzz@yyyyy.com'

        throw err
    }

}